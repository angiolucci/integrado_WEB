
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Register Article</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src = "jquery.min.js"></script>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="img/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="img/favicon.png">
    <link rel="stylesheet" href="css/bootstrap-responsive.css" type="text/css"/>

  
        <script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/scripts.js"></script>
      
  </head>
  
  
  <body class="container-fluid">
    <section class="row-fluid" id="span12">
        <header class="navbar">
            <nav class="navbar-inner"> 
                <div class="container-fluid">
                    <a data-target=".navbar-responsive-collapse" data-toggle="collapse" class="btn btn-navbar"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a> <a class="brand">PubMed</a>
                    <nav class="nav-collapse collapse navbar-responsive-collapse">
                        <ul class="nav">
                            <li class="active"> <a href="index.html">Página Inicial</a>    </li>
                            
                            <li class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">Cadastro <strong class="caret"></strong></a>
                                <ul class="dropdown-menu">
                                    <li>    <a href="registerArticle.html">Artigo Pub Med</a> </li>
                                    <!--<li>    <a href="registerAuthor.html">Autores</a> </li>-->
                                    <!--<li>    <a href="chemicalSubstance.html">Substâncias Químicas</a>   </li>-->
                                    <li>    <a href="journal.html">Revista</a>   </li>
                                    <li>    <a href="journalIssue.html">Edição da Revista</a>   </li>
                                    <!--<li>    <a href="keyWord.html">Palavras - Chaves</a>   </li>-->
                                    <li>    <a href="meshHeading.html">Termos Mesh</a>   </li>
                                    <li>    <a href="pubType.html">Tipo de Publicação</a>  </li>
                                </ul>
                            </li>
                            
                            <li class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">Alterar <strong class="caret"></strong></a>
                                <ul class="dropdown-menu">
                                    <li>    <a href="alterArticle.html">Artigo Pub Med</a> </li>
                                    <!--<li>    <a href="registerAuthor.html">Autores</a> </li>-->
                                    <!--<li>    <a href="chemicalSubstance.html">Substâncias Químicas</a>   </li>-->
                                    <li>    <a href="alterJournal.html">Revista</a>   </li>
                                    <li>    <a href="alterjournalIssue.html">Edição da Revista</a>   </li>
                                    <!--<li>    <a href="keyWord.html">Palavras - Chaves</a>   </li>-->
                                    <li>    <a href="alterMeshHeading.html">Termos Mesh</a>   </li>                                   
                                </ul>
                            </li>
                            
                            <li class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">Consultar <strong class="caret"></strong></a>
                                <ul class="dropdown-menu">
                                    <li>    <a href="searchArticle.html">Artigo Pub Med</a> </li>
                                    <!--<li>    <a href="registerAuthor.html">Autores</a> </li>-->
                                    <!--<li>    <a href="chemicalSubstance.html">Substâncias Químicas</a>   </li>-->
                                    <li>    <a href="searchJournal.html">Revista</a>   </li>
                                    <li>    <a href="searchJournalIssue.html">Edição da Revista</a>   </li>
                                    <!--<li>    <a href="keyWord.html">Palavras - Chaves</a>   </li>-->
                                    <li>    <a href="searchMeshHeading.html">Termos Mesh</a>   </li>                                   
                                    <li>    <a href="searchChemicals.html">Substâncias Químicas</a>   </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">Excluir <strong class="caret"></strong></a>
                                <ul class="dropdown-menu">
                                    <li>    <a href="deleteRegisterArticle.html">Artigo Pub Med</a> </li>
                                    <!--<li>    <a href="registerAuthor.html">Autores</a> </li>-->
                                    <!--<li>    <a href="chemicalSubstance.html">Substâncias Químicas</a>   </li>-->
                                    <li>    <a href="deleteJournal.html">Revista</a>   </li>
                                    <li>    <a href="deleteJournalIssue.html">Edição da Revista</a>   </li>
                                    <!--<li>    <a href="keyWord.html">Palavras - Chaves</a>   </li>-->
                                    <li>    <a href="deleteMeshHeading.html">Termos Mesh</a>   </li>                                   
                                </ul>
                            </li>
                            
                            
                            
			</ul>
			<ul class="nav pull-right">
                            <li class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">Log In <strong class="caret"></strong></a>
                            <ul class="dropdown-menu">
                                <li>    <a href="logIn.html"> Entrar </a>    </li>                                   
                                <li>    <a href="cadastrarUsuario.html"> Cadastrar-se</a>    </li>                                   
                            </ul>
                            <li class="divider-vertical">  </li>
                            <li class="dropdown">
                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">Usuário <strong class="caret"></strong></a>
                                <ul class="dropdown-menu">
                                    <li>    <a href="settings.html">Configurações</a>  </li>
                                    <li>    <a href="ajuda.html">Ajuda</a>  </li>
                                    <li class="divider">    </li>                                    
                                    <li>    <a href="#">Log Out</a>  </li>
				</ul>
                            </li>
			</ul>
                 </nav>
                </div> 
            </nav>
        </header>
    </section>
      
    <nav>
    <ul class="breadcrumb">
	<li>    <a href="index.html">Página Inicial</a> <span class="divider">/</span> </li>
        <li>    <a href="registerArticle.html">Cadastro Artigos</a> <span class="divider">/</span>  </li>
	<li class="active"> Artigos</li> 
    </ul>  
    </nav>
      
    <section class="container-fluid">
      <article class="row-fluid">
        <div class="span4">
        </div>
          <form autocomplete="on" class="span4">
            <fieldset>
                <legend>
                    Cadastro de Artigos
                </legend>
                <fieldset>
                <legend> Revista </legend>
                <p><span class="text-left"><label for="titlejournal">Título da Revista </label></span><span class="text-left">
                    <select name="titlejournal" id="titlejournal">
                        <!--
                        <option value="" selected></option>
                        <option value="1">Acta Cardiologica</option>
                        <option value="2">Child Welfare</option>                
                        <option value="3">Harefuah</option>
                        <option value="4">Khirurgiia</option>
                        <option value="5">Magyar Oncologia</option>
                        -->
                    </select>
                   </span>
                </p>
                
                <p><span class="text-left"><label for="journalissue">Edição da Revista </label></span><span class="text-left">
                    <select name="journalissue" id="journalissue">
                        <!--
                        <option value="" selected></option>
                        <option value="1">1</option>
                        <option value="2">2</option>                
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        -->
                    </select>
                   </span>
                </p>
                
                <p><span class="text-left"><label for="journalissue"> Volume </label></span><span class="text-left">
                    <select name="journalvolume" id="journalvolume">
                        <!--
                        <option value="" selected></option>
                        <option value="1">1</option>
                        <option value="2">2</option>                
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        -->
                    </select>
                   </span>
                </p>
                </fieldset>
                <fieldset>
                    <legend> Autor </legend>
                    <p><span class="text-left"><label for="forename">Nome <span id="erronome" class="text-error"></span></label></span><span><input type="text" id="forename"></span></p>
                    <p><span class="text-left"><label for="middlename">Sobrenome <span id="errosobrenome" class="text-error"></span></label></span><span><input type="text" id="middlename"></span></p>
                </fieldset>
                <fieldset>
                    <legend>Artigo</legend>
                <p><span class="text-left"><label for="articleid">Article ID <span id="erroid" class="text-error"></span></label></span><span><input type="text" id="articleid" name="articleid"></span></p>
                <!--<p><span class="text-left"><label for="issue">Issue <span id="erroissueid" class="text-error"></span></label></span><span><input type="text" id="issue" name="issue"></span></p>-->
                <!--<p><span class="text-left"><label for="issn">ISSN <span id="erroissnid" class="text-error"></span></label></span><span><input type="text" id="issn" name="issn"></span></p>-->
                <!--<p><span class="text-left"><label for="volume">Volume <span id="errovolume" class="text-error"></span></label></span><span><input type="text" id="volume" name="volume"></span></p>-->
                <p><span class="text-left"><label for="affiliation">Affiliation <span id="erroaffiliation" class="text-error"></span></label></span><span><input type="text" id="affiliation" name="affiliation"></span></p>
                <!--<p><span class="text-left"><label for="pubtype">Tipo de Publicação <span id="errotipo" class="text-error"></span></label></span><span><input type="text" id="pubtype" name="pubtype"></span></p>-->
                <p><span class="text-left"><label for="publicationstatus">Tipo de Publicação </label></span><span class="text-left">
                    <select name="tipopublicacao" id="tipopublicacao">
                        <option value="" selected></option>
                        <option value="AR">Artigo de Revista</option>
                        <option value="R">Research</option>                
                        <option value="RS">Research Support</option>
                    </select>
                   </span>
                </p>
                <p><span class="text-left"><label for="publicationstatus">Status da Publicação <span id="errostatus" class="text-error"></span></label></span><span class="text-left">
                    <select name="publicationstatus" id="publicationstatus">
                        <option value="" selected></option>
                        <option value="aheadofprint">aheadofprint</option>
                        <option value="epublish">epublish</option>                
                        <option value="ppublish">ppublish</option>
                    </select>
                   </span>
                </p>
                <p><span class="text-left"><label for="keyword">Palavra-Chave <span id="errokey" class="text-error"></span></label></span><span><input type="text" id="keyword"></span></p>
                <p><span class="text-left"><label for="title">Title <span id="errotitle" class="text-error"></span></label></span><span><input type="text" id="title" name="title"></span></p>
                <p><span class="text-left"><label for="pagbegin">Pag. Begin <span id="errobegin" class="text-error"></span></label></span><span><input type="text" id="pagbegin" name="pagbegin"></span></p>
                <p><span class="text-left"><label for="pagend">Pag. End <span id="erroend" class="text-error"></span></label></span><span><input type="text" id="pagend" name="pagend"></span></p>
                </fieldset>
                <!--<p><span class="text-left" id="desc-erro"></span><span id="erro" class="text-right"></span></p>-->
                <p><input type="submit" id="cadastrar" value="Cadastrar !" class="btn" name="cad"></p>
            
            </fieldset>
        </form>
      </article>
    </section>
    
        <section class="row-fluid">
		<footer class="span12">
                        <br>
                        <address> 
                            <strong>PubMed, Ltda.</strong><br> 
                            Avenida Gen. Carneiro, 795<br> 
                            Sorocaba, SP 18043-000<br> 
                            <abbr title="Phone">Fone:</abbr> 
                            (19) 9309-5397
                        </address>
		</footer>
                
	</section>
      
      
      
        <script>
          
          $(document).ready(function(){
            document.getElementById("cadastrar").style.visibility="hidden";
             
            $.ajax({
                type: "POST",
                url: "../buscaRevista",
                dataType: "html"
             }).done(function(data){
                $('#titlejournal').html(data);
             }); 
             
              $.ajax({
                type: "POST",
                url: "../buscaPtype",
                dataType: "html"
             }).done(function(data){
                $('#tipopublicacao').html(data);
             }); 
              
           
            /*monitora a ação de clicar*/
            $('#cadastrar').click(function(){
                if( (($('#errokey').val()) === '') && (($('#erronome').val()) === '') && 
                    (($('#errosobrenome').val()) === '') && (($('#erroid').val()) === '') && 
                    (($('#errotitle').val()) === '') && (($('#errobegin').val()) === '') && (($('#erroend').val()) === '') ){
                    $.ajax({
                      type: "POST",
                      url: "../cadastrarArtigo",
                      dataType: "html",
                      data: {articleID: $('#articleid').val(),
                            lastname: $('#middlename').val(),
                            forename: $('#forename').val(),
                            issn: $('#titlejournal').val(),
                            issue: $('#journalissue').val(),
                            volume: $('#journalvolume').val(),
                            title: $('#title').val(),
                            pbeg: $('#pagbegin').val(),
                            pend: $('#pagend').val(),
                            aff: $('#affiliation').val(),
                            ps: $('#publicationstatus').val(),
                            pt: $('#pubtype').val() }
                   });                
                    window.alert('Cadastro efetuado com sucesso!');                     
                }else
                    window.alert('Preencha os campos corretamente');
            });
            
            $('#keyword').focusout(function(){
                var filtro = /^([a-z)(-.0-9 ,]{1,100})$/;

                        if(filtro.exec($('#keyword').val()) === null && $('#keyword').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Descrição:  ');
                            });
                            $('#errokey').fadeIn('slow', function(){
                                $(this).html('Apenas Caracteres Literais minúsculos');
                            });
                            document.getElementById("cadastrar").style.visibility="hidden";
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#errokey').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            document.getElementById("cadastrar").style.visibility="visible";
                        }
              });

            $('#forename').focusout(function(){
                var filtro = /^([A-Za-z ]{1,100})$/;

                        if(filtro.exec($('#forename').val()) === null && $('#forename').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Nome:  ');
                            });
                            $('#erronome').fadeIn('slow', function(){
                                $(this).html('Apenas Letras');
                            });
                             document.getElementById("cadastrar").style.visibility="hidden";                           
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#erronome').fadeOut(1000, function(){
                                $(this).html('');
                            });
                             document.getElementById("cadastrar").style.visibility="visible";                           
                        }
              });
              
              $('#middlename').focusout(function(){
                var filtro = /^([A-Za-z ]{1,100})$/;

                        if(filtro.exec($('#middlename').val()) === null && $('#middlename').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Sobrenome:  ');
                            });
                            $('#errosobrenome').fadeIn('slow', function(){
                                $(this).html('Apenas Letras');
                            });
                              document.getElementById("cadastrar").style.visibility="hidden";                           
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#errosobrenome').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            document.getElementById("cadastrar").style.visibility="visible";                           
                        }
              });
              
    
            /*O método exec pertence a classe Regex e valida a string passada como parâmetro 
                *para o método, retornando um vetor com as strings ou null quando não encontra nada */
            $('#articleid').focusout(function(){
                var filtro = /^([0-9]{8,8})$/;

                        if(filtro.exec($('#articleid').val()) === null && $('#articleid').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro ID:  ');
                            });
                            $('#erroid').fadeIn('slow', function(){
                                $(this).html('Apenas Números - 8 dígitos');
                            });
                            document.getElementById("cadastrar").style.visibility="hidden";                           
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#erroid').fadeOut(1000, function(){
                                $(this).html('');
                            });
                              document.getElementById("cadastrar").style.visibility="visible";                           
                        }
              });
              
              
              $('#issue').focusout(function(){
                var filtro = /^([0-9]{1,8})$/;

                        if(filtro.exec($('#issue').val()) === null && $('#issue').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Issue:  ');
                            });
                            $('#erroissueid').fadeIn('slow', function(){
                                $(this).html('Apenas números');
                            });
                              document.getElementById("cadastrar").style.visibility="hidden";                            
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#erroissueid').fadeOut(1000, function(){
                                $(this).html('');
                            });
                               document.getElementById("cadastrar").style.visibility="visible";                           
                        }
              });
              
              $('#issn').focusout(function(){
                var filtro = /^([0-9]{4,4}\-[0-9]{3,3}[0-9xX]{1,1})$/;

                        if(filtro.exec($('#issn').val()) === null && $('#issn').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro ISSN:  ');
                            });
                            $('#erroissnid').fadeIn('slow', function(){
                                $(this).html('ISSN inválido');
                            });
                              document.getElementById("cadastrar").style.visibility="hidden";                           
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#erroissnid').fadeOut(1000, function(){
                                $(this).html('');
                            });
                              document.getElementById("cadastrar").style.visibility="visible";                            
                        }
              });
              
              $('#volume').focusout(function(){
                var filtro = /^([0-9]{1,8})$/;

                        if(filtro.exec($('#volume').val()) === null && $('#volume').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Volume:  ');
                            });
                            $('#errovolume').fadeIn('slow', function(){
                                $(this).html('Apenas Números');
                            });
                               document.getElementById("cadastrar").style.visibility="hidden";                           
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#errovolume').fadeOut(1000, function(){
                                $(this).html('');
                            });
                               document.getElementById("cadastrar").style.visibility="visible";                           
                        }
              });
              
              $('#affiliation').focusout(function(){
                        var filtro = /^(([A-Za-z\,\ \ç\:\-\;\)\(]{1,80}))$/;

                        if(filtro.exec($('#affiliation').val()) === null && $('#affiliation').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Affiliation:  ');
                            });
                            $('#erroaffiliation').fadeIn('slow', function(){
                                $(this).html('Não Digite caracteres inválidos');
                            });
                              document.getElementById("cadastrar").style.visibility="hidden";                            
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#erroaffiliation').fadeOut(1000, function(){
                                $(this).html('');
                            });
                              document.getElementById("cadastrar").style.visibility="visible";                            
                        }
              });
              
              
              
              $('#title').focusout(function(){
                var filtro = /^(([A-Za-z,.><0-9)( ]{1,100}))$/;

                        if(filtro.exec($('#title').val()) === null && $('#title').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Título:  ');
                            });
                            $('#errotitle').fadeIn('slow', function(){
                                $(this).html('Não Digite caracteres inválidos');
                            });
                              document.getElementById("cadastrar").style.visibility="hidden";                            
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#errotitle').fadeOut(1000, function(){
                                $(this).html('');
                            });
                              document.getElementById("cadastrar").style.visibility="visible";                            
                        }
              });
              
             

              $('#pubtype').focusout(function(){
                var filtro = /^(([A-Za-z,.><]{1,100}))$/;
                        if(filtro.exec($('#pubtype').val()) === null && $('#pubtype').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Tipo de Publicação:  ');
                            });
                            $('#errotipo').fadeIn('slow', function(){
                                $(this).html('Digite Apenas Caracteres Literais');
                            });
                               document.getElementById("cadastrar").style.visibility="hidden";                           
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#errotipo').fadeOut(1000, function(){
                                $(this).html('');
                            });
                               document.getElementById("cadastrar").style.visibility="visible";                           
                        }
              });
              
              
              $('#pagbegin').focusout(function(){
                var filtro = /^([0-9]{1,8})$/;
                        if(filtro.exec($('#pagbegin').val()) === null && $('#pagbegin').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Página Inicial:  ');
                            });
                            $('#errobegin').fadeIn('slow', function(){
                                $(this).html('Digite Apenas Números');
                            });
                              document.getElementById("cadastrar").style.visibility="hidden";                            
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#errobegin').fadeOut(1000, function(){
                                $(this).html('');
                            });
                              document.getElementById("cadastrar").style.visibility="visible";                            
                        }
              });
              
              $('#pagend').focusout(function(){
                var filtro = /^([0-9]{1,8})$/;
                        if(filtro.exec($('#pagend').val()) === null && $('#pagend').val()){
                            $('#desc-erro').fadeIn(1000, function(){
                                $(this).html('Erro Página Final:  ');
                            });
                            $('#erroend').fadeIn('slow', function(){
                                $(this).html('Digite Apenas Números');
                            });
                               document.getElementById("cadastrar").style.visibility="hidden";                           
                        }else{
                            $('#desc-erro').fadeOut(1000, function(){
                                $(this).html('');
                            });
                            $('#erroend').fadeOut(1000, function(){
                                $(this).html('');
                            });
                               document.getElementById("cadastrar").style.visibility="visible";                           
                        }
              });
              
/*
            $('#titlejournal').click()(function(){
             $.ajax({
                type: "POST",
                url: "../buscaRevista",
                dataType: "html"
             }).done(function(data){
                $('#titlejournal').html(data);
             });
           });
*/           
           
            $('#titlejournal').change(function(){
              $.ajax({
                type: "POST",
                url: "../buscaEdicao",
                dataType: "html",
                data: {issn: $('#titlejournal').val() }
             }).done(function(data){
                $('#journalissue').html(data);
             });               
            });
            
            $('#journalissue').change(function(){
              $.ajax({
                type: "POST",
                url: "../buscaVolume",
                dataType: "html",
                data: {issn: $('#titlejournal').val(), issue: $('#journalissue').val() }
             }).done(function(data){
                $('#journalvolume').html(data);
             });               
            });            

           
      }); //document.ready
      
      </script>
      
            
    </body>
    
</html>
